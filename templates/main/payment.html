{% extends "base.html" %}

{% block content %}
<div style="padding: 40px 5%; max-width: 600px; margin: 0 auto;">
    <h1 style="font-size: 28px; font-weight: 500; text-transform: uppercase; letter-spacing: 2px; margin: 0 0 40px 0; text-align: center;">Payment</h1>
    
    <div style="background: #f5f5f5; padding: 30px; margin-bottom: 40px; border: 1px solid #eee;">
        <h2 style="font-size: 16px; font-weight: 600; text-transform: uppercase; margin-bottom: 20px;">Order Summary</h2>
        
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-size: 14px;">{{ product.name }}</span>
            <span style="font-weight: 600;">Rs. {{ product.price }}</span>
        </div>
        
        <hr style="border: none; border-top: 1px solid #ddd; margin: 15px 0;">
        
        <div style="display: flex; justify-content: space-between; font-size: 16px; font-weight: 700;">
            <span>Total Amount:</span>
            <span>Rs. {{ product.price }}</span>
        </div>
    </div>
    
    <form method="post" style="display: flex; flex-direction: column; gap: 20px;">
        {% csrf_token %}
        
        <div>
            <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                Full Name
            </label>
            <input type="text" name="full_name" placeholder="{{ request.user.get_full_name|default:request.user.username }}" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
        </div>
        
        <div>
            <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                Email Address
            </label>
            <input type="email" name="email" placeholder="{{ request.user.email }}" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
        </div>
        
        <div>
            <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                Card Number
            </label>
            <input type="text" name="card_number" placeholder="1234 5678 9012 3456" pattern="\d{4}\s?\d{4}\s?\d{4}\s?\d{4}" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                    Expiry Date
                </label>
                <input type="text" name="expiry_date" placeholder="MM/YY" pattern="\d{2}/\d{2}" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
            </div>
            
            <div>
                <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                    CVV
                </label>
                <input type="text" name="cvv" placeholder="123" pattern="\d{3,4}" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
            </div>
        </div>
        
        <div>
            <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                Billing Address
            </label>
            <input type="text" name="address" placeholder="Enter your billing address" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                    City
                </label>
                <input type="text" name="city" placeholder="City" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
            </div>
            
            <div>
                <label style="display: block; font-weight: 600; font-size: 12px; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px;">
                    Postal Code
                </label>
                <input type="text" name="postal_code" placeholder="Postal Code" style="width: 100%; padding: 12px; border: 1px solid #ddd; font-family: 'Montserrat', sans-serif; font-size: 13px; box-sizing: border-box;" required>
            </div>
        </div>
        
        <button type="submit" class="btn-black" style="padding: 15px 40px; font-size: 14px; margin-top: 20px;">
            COMPLETE PAYMENT
        </button>
    </form>
    
    <div style="text-align: center; margin-top: 20px;">
        <a href="{% url 'checkout' product.id %}" style="color: #666; text-decoration: underline; font-size: 12px;">Back to Checkout</a>
    </div>
</div>

<style>
    input[type="text"], input[type="email"] {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        font-family: 'Montserrat', sans-serif;
        font-size: 13px;
        box-sizing: border-box;
    }
    
    input[type="text"]:focus, input[type="email"]:focus {
        outline: none;
        border: 1px solid #000;
    }
</style>
{% endblock %}
