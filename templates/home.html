{% extends 'base.html' %}
{% block content %}

<!-- HERO SECTION -->
<div class="hero" style="background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%); padding: 80px 5%; text-align: center;">
    <div class="hero-decor">
        <div class="float float-1"></div>
        <div class="float float-2"></div>
        <div class="float float-3"></div>
    </div>
    <h1 class="hero-title" style="font-size: 48px; font-weight: 900; letter-spacing: 4px; margin: 0 0 20px 0;">NEW COLLECTION 2026</h1>
    <p class="hero-sub" style="font-size: 14px; color: #666; letter-spacing: 1px; margin: 0 0 30px 0;">DISCOVER THE LATEST TRENDS & EXCLUSIVE STYLES</p>
    <a href="#shop" style="text-decoration: none;">
        <button class="btn-black hero-cta" style="padding: 15px 40px; font-size: 13px;">SHOP NOW</button>
    </a>
</div>

<!-- FEATURED COLLECTIONS -->
<div style="padding: 60px 5%;">
    <h2 style="text-align: center; font-size: 28px; font-weight: 500; text-transform: uppercase; letter-spacing: 2px; margin: 0 0 50px 0;">Featured Collections</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; max-width: 1200px; margin: 0 auto;">
        {% for category in categories %}
        <a href="?category={{ category.id }}" style="text-decoration: none; color: inherit;">
            <div style="position: relative; cursor: pointer; overflow: hidden; height: 400px; background: #f5f5f5;">
                {% if category.image %}
                    <img src="{{ category.image.url }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                {% else %}
                    <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: #f0f0f0;">
                        <span style="font-size: 60px; color: #ddd;">ðŸ“¦</span>
                    </div>
                {% endif %}
                <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent); padding: 30px 20px; color: white;">
                    <h3 style="font-size: 20px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin: 0;">{{ category.name }}</h3>
                    <p style="font-size: 12px; margin: 5px 0 0 0;">Explore Collection â†’</p>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>

<!-- NEW ARRIVALS -->
{% if new_products %}
<div style="padding: 60px 5%; background: #f5f5f5;">
    <h2 style="text-align: center; font-size: 28px; font-weight: 500; text-transform: uppercase; letter-spacing: 2px; margin: 0 0 50px 0;">New Arrivals</h2>
    
    <div class="product-grid" style="max-width: 1200px; margin: 0 auto;">
        {% for p in new_products %}
        <a href="{% url 'product_detail' p.id %}" style="text-decoration: none; color: inherit;">
            <div class="product-card">
                <div class="img-wrapper">
                    <img src="{{ p.image_main.url }}" class="img-main">
                    <img src="{{ p.image_hover.url }}" class="img-hover">
                </div>
                <div class="product-info">
                    <div style="display: inline-block; background: #000; color: #fff; padding: 3px 8px; font-size: 9px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">New</div>
                    <div class="product-name">{{ p.name|upper }}</div>
                    <div class="product-price">Rs. {{ p.price }}</div>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- CATEGORY FILTER & SHOP ALL PRODUCTS -->
<div style="padding: 60px 5%;">
    <h2 id="shop" style="text-align: center; font-size: 28px; font-weight: 500; text-transform: uppercase; letter-spacing: 2px; margin: 0 0 30px 0;">Shop The Collection</h2>
    
    <!-- Category Filter -->
    <div style="text-align: center; margin-bottom: 40px;">
        <a href="{% url 'home' %}" style="text-decoration: none;">
            <button class="cat-btn {% if not selected_category %}cat-btn-active{% endif %}">
                ALL PRODUCTS
            </button>
        </a>
        {% for category in categories %}
        <a href="?category={{ category.id }}" style="text-decoration: none;">
            <button class="cat-btn {% if selected_category|add:0 == category.id %}cat-btn-active{% endif %}">
                {{ category.name|upper }}
            </button>
        </a>
        {% endfor %}
    </div>
    
    <!-- Products Grid -->
    <div class="product-grid" style="max-width: 1200px; margin: 0 auto;">
        {% for p in products %}
        <a href="{% url 'product_detail' p.id %}" style="text-decoration: none; color: inherit;">
            <div class="product-card">
                <div class="img-wrapper">
                    <img src="{{ p.image_main.url }}" class="img-main">
                    <img src="{{ p.image_hover.url }}" class="img-hover">
                </div>
                <div class="product-info">
                    <div class="product-name">{{ p.name|upper }}</div>
                    <div class="product-price">Rs. {{ p.price }}</div>
                </div>
            </div>
        </a>
        {% empty %}
        <div style="grid-column: 1/-1; text-align: center; padding: 40px;">
            <p style="font-size: 16px; color: #666;">No products in this category yet.</p>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .img-wrapper {
        position: relative;
        overflow: hidden;
    }
    
    .img-wrapper img.img-main {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 1;
    }
    
    .img-wrapper img.img-hover {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 0.6s ease-in-out;
    }
    
    .product-grid > a:hover img.img-hover {
        opacity: 1;
    }
    
    .cat-btn {
        background: #f5f5f5;
        color: #000;
        border: none;
        padding: 8px 20px;
        margin-right: 10px;
        margin-bottom: 10px;
        cursor: pointer;
        font-family: 'Montserrat', sans-serif;
        font-size: 12px;
        text-transform: uppercase;
        font-weight: 600;
        letter-spacing: 1px;
        transition: 0.3s;
    }
    
    .cat-btn-active {
        background: #000 !important;
        color: #fff !important;
    }
</style>

{% endblock %}