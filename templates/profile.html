{% extends "base.html" %}

{% block content %}
<div style="max-width:900px; margin:60px auto; padding:30px;">
    <h2 style="text-transform:uppercase; letter-spacing:2px;">My Profile</h2>
    <div style="display:flex; gap:30px; margin-top:20px;">
        <div style="flex:1; min-width:220px;">
            <div style="padding:20px; border:1px solid #eee;">
                <h3 style="margin:0 0 10px 0;">Account</h3>
                <p style="margin:6px 0;"><strong>Username:</strong> {{ user.username }}</p>
                <p style="margin:6px 0;"><strong>Email:</strong> {{ user.email }}</p>
                <p style="margin:6px 0;"><a href="{% url 'my_orders' %}">View Orders</a></p>
            </div>
        </div>
        <div style="flex:2;">
            <div style="padding:20px; border:1px solid #eee;">
                <h3 style="margin:0 0 10px 0;">Recent Orders</h3>
                {% if orders %}
                    <ul style="list-style:none; padding:0; margin:0;">
                        {% for o in orders %}
                        <li style="padding:12px 0; border-bottom:1px solid #f0f0f0;">
                            <div style="display:flex; justify-content:space-between;">
                                <div>
                                    <strong>Order #{{ o.id }}</strong>
                                    <div style="font-size:12px; color:#666;">Placed on {{ o.created_at|date:"M j, Y H:i" }}</div>
                                </div>
                                <div style="text-align:right;">
                                    <div style="font-weight:700;">Rs. {{ o.total_price }}</div>
                                    <div style="font-size:12px; color:#666;">{% if o.complete %}Complete{% else %}Pending{% endif %}</div>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p style="color:#666;">You have no orders yet.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
